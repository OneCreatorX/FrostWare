spawn(function()pcall(function()repeat task.wait() until game:IsLoaded()if not T.sf then T.sf="ScrollingFrame" end local sd="fw_scripts" if not isfolder(sd) then makefolder(sd) end local function fp(n)return sd.."/"..n..".lua" end local function ap(n)return sd.."/"..n..".auto" end local function ls()local ok,fs=pcall(function()return listfiles(sd)end)if not ok or not fs then return {} end local r={}for _,f in ipairs(fs)do local nm=(f:match("[^/\\]+$")or f):gsub("%.lua$","")if f:lower():sub(-4)==".lua" and nm~="" then r[#r+1]=nm end end table.sort(r)return r end local function sn(n,t)pcall(function()writefile(fp(n),t or "")end)end local function ln(n)local ok,tx=pcall(function()return readfile(fp(n))end)return ok and (tx or "") or "" end local function dn(n)pcall(function()if isfile(fp(n)) then delfile(fp(n))end if isfile(ap(n)) then delfile(ap(n))end end)end local function ia(n)return isfile(ap(n)) end local function sa(n,b)pcall(function()if b then writefile(ap(n),"1")else if isfile(ap(n)) then delfile(ap(n))end end end)end local function rn(n)local c=ln(n)if c and #c>0 then local fn,er=loadstring(c)if fn then local ok2,re=pcall(fn)end end end local function nx()local i=1 while true do local n="Script"..i if not isfile(fp(n)) then return n end i=i+1 end end addTab("Script","https://img.icons8.com/ios-filled/256/ffffff/code-file.png",function(pg)local sc=x("sf",pg,{bs=0,bc=C.w,bt=1,sz=U(1,0,1,0),ps=U(0,0,0,0),AutomaticCanvasSize=Enum.AutomaticSize.Y,ScrollingDirection=Enum.ScrollingDirection.Y,ScrollBarImageTransparency=0.4})sc.Active=true sc.ScrollBarThickness=6 local pad=Instance.new("UIPadding")pad.PaddingLeft=D(0,16)pad.PaddingRight=D(0,16)pad.PaddingTop=D(0,16)pad.PaddingBottom=D(0,16)pad.Parent=sc local ly=Instance.new("UIListLayout")ly.Parent=sc ly.FillDirection=Enum.FillDirection.Vertical ly.HorizontalAlignment=Enum.HorizontalAlignment.Left ly.SortOrder=Enum.SortOrder.LayoutOrder ly.Padding=D(0,12)local t=x("tl",sc,{txw=true,tfx=E.lx,tfy=E.ly,txs=28,ft=F(R..A.i,E.b,E.n),tc=C.w,bt=1,sz=U(1,0,0,36),ps=U(0,0,0,0),tx="Gestor de Scripts"})local function mk(pa,h)local c1=x("fr",pa,{bs=0,bc=C.w,bt=0,sz=U(1,0,0,h),ps=U(0,0,0,0)})x("uc",c1,{cr=D(0.18,0)})x("ug",c1,{rt=90,Color=s(r(166,190,255),r(93,117,160))})x("us",c1,{ar=E.a,th=1,Color=C.st})return c1 end local function ba(pa,tx)local b1=x("tb",pa,{txw=true,bs=0,txs=16,tc=C.k,txsc=true,bc=C.w,ft=F(A.j,E.s,E.n),sz=U(0,140,0,36),bt=1,bd=C.k,tx=tx})x("uc",b1,{cr=D(0.18,0)})return b1 end local ar=mk(sc,60)local al=Instance.new("UIListLayout")al.Parent=ar al.FillDirection=Enum.FillDirection.Horizontal al.HorizontalAlignment=Enum.HorizontalAlignment.Left al.VerticalAlignment=Enum.VerticalAlignment.Center al.SortOrder=Enum.SortOrder.LayoutOrder al.Padding=D(0,12)local bNew=ba(ar,"Nuevo")local bSave=ba(ar,"Guardar")local bRun=ba(ar,"Ejecutar")local bDel=ba(ar,"Eliminar")local bAuto=ba(ar,"Auto OFF")local nr=mk(sc,52)local nl=x("tl",nr,{txw=true,tfx=E.lx,tfy=E.ly,txs=18,ft=F(R..A.i,E.s,E.n),tc=C.t1,bt=1,sz=U(0.22,0,1,-16),ps=U(0,12,0,8),tx="Nombre"})local nb=x("tb",nr,{txw=true,bs=0,txs=16,tc=C.k,txsc=true,bc=C.w,ft=F(A.j,E.r,E.n),sz=U(0.7,0,1,-16),ps=U(0.27,0,0,8),bd=C.k,tx=""})x("uc",nb,{cr=D(0.18,0)})local er=mk(sc,260)local eb=x("tb",er,{txw=true,bs=0,txs=16,tc=C.w,txsc=false,bc=C.g2,ft=F(A.j,E.r,E.n),sz=U(1,-24,1,-24),ps=U(0,12,0,12),bd=C.k,tx=""})x("uc",eb,{cr=D(0.12,0)})eb.AutoButtonColor=false eb.TextWrapped=false eb.TextTruncate=Enum.TextTruncate.None eb.TextXAlignment=Enum.TextXAlignment.Left eb.TextYAlignment=Enum.TextYAlignment.Top eb.MultiLine=true eb.ClearTextOnFocus=false local lb=mk(sc,220)local list=x("sf",lb,{bs=0,bc=C.w,bt=1,sz=U(1,0,1,0),ps=U(0,0,0,0),AutomaticCanvasSize=Enum.AutomaticSize.Y,ScrollingDirection=Enum.ScrollingDirection.Y,ScrollBarImageTransparency=0.5})list.Active=true list.ScrollBarThickness=6 local ll=Instance.new("UIListLayout")ll.Parent=list ll.FillDirection=Enum.FillDirection.Vertical ll.HorizontalAlignment=Enum.HorizontalAlignment.Left ll.SortOrder=Enum.SortOrder.LayoutOrder ll.Padding=D(0,8)local cur=nil local function gen()local i=1 while true do local n="Script"..i if not isfile(fp(n)) then return n end i=i+1 end end local function sel(n)cur=n nb[M.tx]=n eb[M.tx]=ln(n)if ia(n) then bAuto[M.tx]="Auto ON" else bAuto[M.tx]="Auto OFF" end end local function row(n)local rw=x("fr",list,{bs=0,bc=C.g2,bt=0,sz=U(1,0,0,48),ps=U(0,0,0,0)})x("uc",rw,{cr=D(0.12,0)})x("us",rw,{ar=E.a,th=1,Color=C.st})local nm=x("tl",rw,{txw=true,tfx=E.lx,tfy=E.ly,txs=18,ft=F(R..A.i,E.s,E.n),tc=C.w,bt=1,sz=U(0.5,0,1,-16),ps=U(0,12,0,8),tx=n})local arl=Instance.new("UIListLayout")arl.Parent=rw arl.FillDirection=Enum.FillDirection.Horizontal arl.HorizontalAlignment=Enum.HorizontalAlignment.Right arl.VerticalAlignment=Enum.VerticalAlignment.Center arl.SortOrder=Enum.SortOrder.LayoutOrder arl.Padding=D(0,8)local bLd=ba(rw,"Cargar")local bRn=ba(rw,"Run")local bAt=ba(rw,ia(n) and "Auto ON" or "Auto OFF")y(bLd,function()sel(n)end)y(bRn,function()rn(n)end)y(bAt,function()local v=not ia(n)sa(n,v)bAt[M.tx]=v and "Auto ON" or "Auto OFF"if cur==n then bAuto[M.tx]=bAt[M.tx]end end)end local function rf()list:ClearAllChildren()local _=ll;for _,n in ipairs(ls())do row(n)end end local function clean()cur=nil nb[M.tx]=gen() eb[M.tx]="" bAuto[M.tx]="Auto OFF"end y(bNew,function()clean()end)y(bSave,function()local n=(nb[M.tx] or ""):gsub("[%c%p%s]","") if n=="" then n=gen() nb[M.tx]=n end sn(n,eb[M.tx] or "") sel(n) rf()end)y(bRun,function()if cur then rn(cur)end end)y(bDel,function()if cur then dn(cur)clean()rf()end end)y(bAuto,function()if not cur then return end local v=not ia(cur)sa(cur,v)bAuto[M.tx]=v and "Auto ON" or "Auto OFF"rf()end)clean()rf()task.spawn(function()for _,n in ipairs(ls())do if ia(n) then rn(n) end end end)end)end)end)
