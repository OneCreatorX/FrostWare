task.spawn(function()pcall(function()while not game:IsLoaded() do task.wait() end;if not T.sf then T.sf="ScrollingFrame" end;local HS=game:GetService("HttpService")local cb=setclipboard or toclipboard or (syn and syn.write_clipboard)local DIR="scripts"if not isfolder(DIR) then makefolder(DIR) end;local CF=DIR.."/autorun.json"local function rf(p)local ok,s=pcall(function()return readfile(p)end)if ok then return s or "" end return nil end;local function wf(p,t)pcall(function()writefile(p,t or "")end)end;local function df(p)pcall(function()delfile(p)end)end;local function ld()local m={}if isfile and isfile(CF) then local s=rf(CF)if s and #s>0 then local ok,t=pcall(function()return HS:JSONDecode(s)end)if ok and type(t)=="table" then m=t end end end return m end;local function sv(m)wf(CF,HS:JSONEncode(m))end;local CFG=ld()addTab("Scripts",nil,function(pg)local sc=x("sf",pg,{bs=0,bc=C.w,bt=1,sz=u(1,0,1,0),ps=u(0,0,0,0),AutomaticCanvasSize=Enum.AutomaticSize.Y,ScrollingDirection=Enum.ScrollingDirection.Y,ScrollBarImageTransparency=0.4})sc.Active=true sc.ScrollBarThickness=6 local pd=Instance.new("UIPadding")pd.PaddingLeft=D(0,16)pd.PaddingRight=D(0,16)pd.PaddingTop=D(0,16)pd.PaddingBottom=D(0,16)pd.Parent=sc local ly=Instance.new("UIListLayout")ly.Parent=sc ly.FillDirection=Enum.FillDirection.Vertical ly.HorizontalAlignment=Enum.HorizontalAlignment.Left ly.SortOrder=Enum.SortOrder.LayoutOrder ly.Padding=D(0,12)local tt=x("tl",sc,{txw=true,tfx=E.lx,tfy=E.ly,txs=28,ft=F(R..A.i,E.b,E.n),tc=C.w,bt=1,sz=u(1,0,0,36),ps=u(0,0,0,0),tx="Scripts"})local sh=x("fr",sc,{bs=0,bc=C.w,bt=0,sz=u(1,0,0,48),ps=u(0,0,0,0)})x("uc",sh,{cr=D(0.18,0)})x("ug",sh,{rt=90,Color=s(r(166,190,255),r(93,117,160))})x("us",sh,{ar=E.a,th=1,Color=C.st})local si=Instance.new("TextBox")si.Parent=sh si.Name="Search"si.BorderSizePixel=0 si.BackgroundTransparency=1 si.PlaceholderText="Search scripts..." si.TextColor3=C.t1 si.TextSize=18 si.FontFace=F(R..A.i,E.s,E.n) si.Size=u(1,-24,1,-16) si.Position=u(0,12,0,8) si.TextXAlignment=Enum.TextXAlignment.Left si.TextYAlignment=Enum.TextYAlignment.Center si.Text=""local lst=x("fr",sc,{bs=0,bc=C.w,bt=1,sz=u(1,0,0,0),ps=u(0,0,0,0),AutomaticSize=Enum.AutomaticSize.Y})local ll=Instance.new("UIListLayout")ll.Parent=lst ll.FillDirection=Enum.FillDirection.Vertical ll.HorizontalAlignment=Enum.HorizontalAlignment.Left ll.SortOrder=Enum.SortOrder.LayoutOrder ll.Padding=D(0,10)local function gbtn(p,t,w)local cap=x("fr",p,{bs=0,bc=C.w,bt=0,sz=u(0,w or 96,0,34)})x("uc",cap,{cr=D(0.18,0)})x("ug",cap,{rt=90,Color=s(r(166,190,255),r(93,117,160))})x("us",cap,{ar=E.a,th=1,Color=C.st})local lb=x("tl",cap,{txw=true,tfx=E.lx,tfy=E.ly,txs=16,ft=F(R..A.i,E.s,E.n),tc=C.t1,bt=1,sz=u(1,-24,1,-12),ps=u(0,12,0,6),tx=t})local tb=x("tb",cap,{txw=true,bs=0,txs=14,tc=C.k,txsc=true,bc=C.w,ft=F(A.j,E.b,E.n),sz=u(1,0,1,0),bt=1,bd=C.k,tx=""})x("uc",tb,{cr=D(0,18)})return tb,lb,cap end;local items={}local function scan()items={}local ok,fs=pcall(function()return listfiles(DIR)end)if ok and fs then for _,f in ipairs(fs)do local n=f:match("([^/\\]+)%.lua$")if n and #n>0 then table.insert(items,n)end end table.sort(items,function(a,b)return a:lower()<b:lower()end)end end;local function exec(n)local p=DIR.."/"..n..".lua"local s=rf(p)if not s then return false end local fn,er=loadstring(s)if not fn then return false end local ok,er2=xpcall(fn,function(e)return debug.traceback(e,2)end)if not ok then return false end return true end;local ov=x("fr",pg,{bs=0,bc=C.k,bt=0.45,sz=u(1,0,1,0),ps=u(0,0,0,0),v=false,zi=1000})local ob=x("tb",ov,{bs=0,bt=1,sz=u(1,0,1,0),ps=u(0,0,0,0),tx="",zi=1000})local pv=x("fr",ov,{bs=0,bc=C.g2,bt=0,sz=u(0,360,0,200),ps=u(0.5,-180,0.5,-100),zi=1001})x("uc",pv,{cr=D(0.06,0)})x("us",pv,{ar=E.a,th=1,Color=C.st})local pl=x("tl",pv,{txw=true,tfx=E.lx,tfy=E.ly,txs=18,ft=F(R..A.i,E.s,E.n),tc=C.w,bt=1,sz=u(1,-20,0,28),ps=u(0,10,0,10),tx="Rename script"})local nb=Instance.new("TextBox")nb.Parent=pv nb.BorderSizePixel=0 nb.BackgroundColor3=C.t1 nb.BackgroundTransparency=0.1 nb.TextColor3=C.w nb.TextSize=16 nb.FontFace=F(R..A.i,E.r,E.n) nb.Size=u(1,-20,0,34) nb.Position=u(0,10,0,50) nb.TextXAlignment=Enum.TextXAlignment.Left nb.TextYAlignment=Enum.TextYAlignment.Center nb.Text=""x("uc",nb,{cr=D(0.06,0)})local ra=x("fr",pv,{bs=0,bc=C.w,bt=1,sz=u(1,-20,0,36),ps=u(0,10,1,-46)})local ral=Instance.new("UIListLayout")ral.Parent=ra ral.FillDirection=Enum.FillDirection.Horizontal ral.HorizontalAlignment=Enum.HorizontalAlignment.Right ral.VerticalAlignment=Enum.VerticalAlignment.Center ral.Padding=D(0,8)local bSave,_,=gbtn(ra,"Save",96)local bCancel,_,=gbtn(ra,"Cancel",96)local rnCur=nil local rnRow=nil y(ob,function()ov[M.v]=false end)y(bCancel,function()ov[M.v]=false end)y(bSave,function()if not rnCur then return end local nn=(nb.Text or ""):gsub("[%c%p%s]","")if nn=="" then return end if nn~=rnCur then local op=DIR.."/"..rnCur..".lua"local np=DIR.."/"..nn..".lua"if not (isfile and isfile(np)) then local s=rf(op)if s then wf(np,s)df(op)end if CFG[rnCur]~=nil then CFG[nn]=CFG[rnCur]CFG[rnCur]=nil sv(CFG)end end end rnCur=nil rnRow=nil ov[M.v]=false end)local function mkRow(name)local row=x("fr",lst,{bs=0,bc=C.w,bt=0,sz=u(1,0,0,48),ps=u(0,0,0,0)})x("uc",row,{cr=D(0.18,0)})x("ug",row,{rt=90,Color=s(r(166,190,255),r(93,117,160))})x("us",row,{ar=E.a,th=1,Color=C.st})local lb=x("tl",row,{txw=true,tfx=E.lx,tfy=E.ly,txs=18,ft=F(R..A.i,E.s,E.n),tc=C.t1,bt=1,sz=u(1,-360,1,-16),ps=u(0,12,0,8),tx=name})local ac=x("fr",row,{bs=0,bc=C.w,bt=1,sz=u(0,340,1,0),ps=u(1,-340,0,0)})local al=Instance.new("UIListLayout")al.Parent=ac al.FillDirection=Enum.FillDirection.Horizontal al.HorizontalAlignment=Enum.HorizontalAlignment.Right al.VerticalAlignment=Enum.VerticalAlignment.Center al.Padding=D(0,8)local bRun,_,=gbtn(ac,"Run",80)local bRen,_,=gbtn(ac,"Rename",96)local bDel,_,=gbtn(ac,"Delete",88)local bAuto,albl,=gbtn(ac,CFG[name] and "Auto: On" or "Auto: Off",112)y(bRun,function()exec(name)end)y(bDel,function()df(DIR.."/"..name..".lua")CFG[name]=nil sv(CFG)row:Destroy()end)y(bRen,function()rnCur=name rnRow=row nb.Text=name ov[M.v]=true end)y(bAuto,function()CFG[name]=not CFG[name]sv(CFG)albl[M.tx]=CFG[name] and "Auto: On" or "Auto: Off"if CFG[name] then exec(name)end end)return row end;local function rebuild()for _,ch in ipairs(lst:GetChildren())do if ch:IsA("Frame") then ch:Destroy()end end;scan()local q=(si.Text or ""):lower()for _,nm in ipairs(items)do if q=="" or nm:lower():find(q,1,true) then mkRow(nm)end end;for _,nm in ipairs(items)do if CFG[nm] then exec(nm)end end end;si:GetPropertyChangedSignal("Text"):Connect(rebuild)rebuild()end)end)end)
