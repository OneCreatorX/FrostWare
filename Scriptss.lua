task.spawn(function()pcall(function()while not game:IsLoaded() do task.wait() end;if not gi or not x or not y or not w or not addTab then return end;local HS=game:GetService("HttpService")local DIR="scripts"local AUTODIR=DIR.."/autorun"if not isfolder(DIR)then makefolder(DIR)end;if not isfolder(AUTODIR)then makefolder(AUTODIR)end;local function rd(p)if not isfile(p)then return nil end;local ok,s=pcall(function()return readfile(p)end)if ok then return s or "" end return nil end;local function wr(p,t)pcall(function()writefile(p,t or "")end)end;local function del(p)if isfile(p)then pcall(function()delfile(p)end)end end;local function mv(from,to)local s=rd(from)if s then wr(to,s)del(from)return true end return false end;local ICO="https://img.icons8.com/ios-glyphs/90/ffffff/code-file.png"local EXEC_ICO=gi("https://raw.githubusercontent.com/OneCreatorX/FrostWare/refs/heads/main/icons/Executee.jpg")local DEL_ICO=gi("https://raw.githubusercontent.com/OneCreatorX/FrostWare/refs/heads/main/icons/Delete.jpg")local REN_ICO=gi("https://raw.githubusercontent.com/OneCreatorX/FrostWare/refs/heads/main/icons/Rename.jpg")local BG_ICO=gi("https://raw.githubusercontent.com/OneCreatorX/FrostWare/refs/heads/main/icons/background.jpg")local function showToast(msg,pg)if not pg or not pg.Parent then return end;local toast=x("fr",pg,{bs=0,bc=Color3.new(0,0,0),bt=0.15,sz=U(0,200,0,40),ps=U(0.5,-100,0.85,0),zi=1000})x("uc",toast,{cr=D(0.5,0)})local lbl=x("tl",toast,{txw=true,tfx=Enum.TextXAlignment.Center,tfy=Enum.TextYAlignment.Center,txs=14,ft=F(R..A.i,E.s,E.n),tc=C.w,bt=1,sz=U(1,0,1,0),tx=msg})local tw1=w(toast,{bt=0.15},0.1)task.delay(1.2,function()if toast and toast.Parent then local tw2=w(toast,{bt=1},0.2)local tw3=w(lbl,{tr=1},0.2)task.wait(0.2)toast:Destroy()end end)end;addTab("Scripts",ICO,function(pg)if not pg then return end;local header=x("fr",pg,{bs=0,bc=C.w,bt=1,sz=U(1,0,0,140),ps=U(0,0,0,0)})local pad1=Instance.new("UIPadding")pad1.PaddingLeft=D(0,16)pad1.PaddingRight=D(0,16)pad1.PaddingTop=D(0,16)pad1.PaddingBottom=D(0,16)pad1.Parent=header local lay1=Instance.new("UIListLayout")lay1.Parent=header lay1.FillDirection=Enum.FillDirection.Vertical lay1.HorizontalAlignment=Enum.HorizontalAlignment.Left lay1.SortOrder=Enum.SortOrder.LayoutOrder lay1.Padding=D(0,8)local ttl=x("tl",header,{txw=true,tfx=E.lx,tfy=E.ly,txs=32,ft=F(R..A.i,E.b,E.n),tc=C.w,bt=1,sz=U(1,0,0,40),ps=U(0,0,0,0),tx="Script Manager"})local desc=x("tl",header,{txw=true,tfx=E.lx,tfy=E.ly,txs=16,ft=F(R..A.i,E.r,E.n),tc=C.t2,bt=1,sz=U(1,0,0,24),ps=U(0,0,0,0),tx="Manage and execute your local scripts"})local sCap=x("fr",header,{bs=0,bc=C.g2,bt=0,sz=U(1,0,0,52)})x("uc",sCap,{cr=D(0.25,0)})x("us",sCap,{ar=E.a,th=1,Color=C.st})local sInp=Instance.new("TextBox")sInp.Parent=sCap sInp.Name="Search"sInp.BorderSizePixel=0 sInp.BackgroundTransparency=1 sInp.TextColor3=C.w sInp.PlaceholderText="Search scripts by name..." sInp.TextSize=18 sInp.FontFace=F(R..A.i,E.s,E.n)sInp.Size=U(1,-28,1,-20)sInp.Position=U(0,14,0,10)sInp.TextXAlignment=Enum.TextXAlignment.Left sInp.TextYAlignment=Enum.TextYAlignment.Center sInp.Text=""local sc=x("sf",pg,{bs=0,bc=C.w,bt=1,sz=U(1,0,1,-140),ps=U(0,0,0,140),AutomaticCanvasSize=Enum.AutomaticSize.Y,ScrollingDirection=Enum.ScrollingDirection.Y,ScrollBarImageTransparency=0.4})sc.Active=true sc.ScrollBarThickness=6 local pad2=Instance.new("UIPadding")pad2.PaddingLeft=D(0,16)pad2.PaddingRight=D(0,16)pad2.PaddingTop=D(0,16)pad2.PaddingBottom=D(0,16)pad2.Parent=sc local listHold=x("fr",sc,{bs=0,bc=C.w,bt=1,sz=U(1,0,0,0),ps=U(0,0,0,0),AutomaticSize=Enum.AutomaticSize.Y})local ll=Instance.new("UIListLayout")ll.Parent=listHold ll.FillDirection=Enum.FillDirection.Vertical ll.HorizontalAlignment=Enum.HorizontalAlignment.Left ll.SortOrder=Enum.SortOrder.LayoutOrder ll.Padding=D(0,12)local items={}local currentRows={}local function scan()items={}local ok1,fs1=pcall(function()return listfiles(DIR)end)if ok1 and fs1 then for _,f in ipairs(fs1)do local n=f:match("([^/\\]+)%.lua$")if n and #n>0 then table.insert(items,{name=n,auto=false,path=f})end end end;local ok2,fs2=pcall(function()return listfiles(AUTODIR)end)if ok2 and fs2 then for _,f in ipairs(fs2)do local n=f:match("([^/\\]+)%.lua$")if n and #n>0 then table.insert(items,{name=n,auto=true,path=f})end end end;table.sort(items,function(a,b)if a.auto~=b.auto then return a.auto end return a.name:lower()<b.name:lower()end)end;local function execName(n,isAuto)local p=isAuto and(AUTODIR.."/"..n..".lua")or(DIR.."/"..n..".lua")local s=rd(p)if not s then return false,"File not found or read failed"end local fn,er=loadstring(s)if not fn then return false,er end local ok,er2=xpcall(fn,function(e)return debug.traceback(e,2)end)if not ok then return false,er2 end return true end;local function mkImgBtn(p,ico,sz)local b=x("il",p,{bs=0,bt=1,ib=ico,st=E.f,sz=sz or U(0,48,0,48)})x("uc",b,{cr=D(0.3,0)})local sc=Instance.new("UIScale")sc.Parent=b sc.Scale=1 local btn=x("tb",b,{bs=0,bt=1,sz=U(1,0,1,0),tx=""})btn.MouseButton1Down:Connect(function()w(sc,{Scale=0.9},0.08)end)btn.MouseLeave:Connect(function()w(sc,{Scale=1},0.08)end)btn.MouseButton1Up:Connect(function()w(sc,{Scale=1},0.08)end)return btn end;local function mkCheckbox(p,checked)local cb=x("fr",p,{bs=0,bc=checked and C.a1 or C.g2,bt=0,sz=U(0,28,0,28)})x("uc",cb,{cr=D(0.3,0)})x("us",cb,{ar=E.a,th=1,Color=C.st})local check=x("tl",cb,{txw=true,tfx=Enum.TextXAlignment.Center,tfy=Enum.TextYAlignment.Center,txs=18,ft=F(R..A.i,E.b,E.n),tc=C.w,bt=1,sz=U(1,0,1,0),tx=checked and "✓" or ""})local btn=x("tb",cb,{bs=0,bt=1,sz=U(1,0,1,0),tx=""})local sc=Instance.new("UIScale")sc.Parent=cb sc.Scale=1 btn.MouseButton1Down:Connect(function()w(sc,{Scale=0.9},0.08)end)btn.MouseLeave:Connect(function()w(sc,{Scale=1},0.08)end)btn.MouseButton1Up:Connect(function()w(sc,{Scale=1},0.08)end)return btn,cb,check end;local function mkRow(item)local name=item.name local isAuto=item.auto local row=x("fr",listHold,{bs=0,bc=C.w,bt=0,sz=U(1,0,0,76)})local bg=x("il",row,{bs=0,bt=0.85,ib=BG_ICO,st=Enum.ScaleType.Crop,sz=U(1,0,1,0)})x("uc",row,{cr=D(0.25,0)})x("us",row,{ar=E.a,th=1,Color=C.st})local autoInd=x("fr",row,{bs=0,bc=isAuto and C.a1 or C.w,bt=1,sz=U(0,4,1,0),ps=U(0,0,0,0),zi=3})local lb=x("tl",row,{txw=true,tfx=E.lx,tfy=E.ly,txs=20,ft=F(R..A.i,E.s,E.n),tc=C.w,bt=1,sz=U(1,-350,1,-20),ps=U(0,20,0,10),tx=name..(isAuto and " (Auto)" or ""),zi=2})local act=x("fr",row,{bs=0,bc=C.w,bt=1,sz=U(0,320,1,0),ps=U(1,-330,0,0),zi=2})local al=Instance.new("UIListLayout")al.Parent=act al.FillDirection=Enum.FillDirection.Horizontal al.HorizontalAlignment=Enum.HorizontalAlignment.Right al.VerticalAlignment=Enum.VerticalAlignment.Center al.SortOrder=Enum.SortOrder.LayoutOrder al.Padding=D(0,10)local bRun=mkImgBtn(act,EXEC_ICO,U(0,48,0,48))local bRn=mkImgBtn(act,REN_ICO,U(0,48,0,48))local bDel=mkImgBtn(act,DEL_ICO,U(0,48,0,48))local autoBtn,autoCb,autoCheck=mkCheckbox(act,isAuto)local autoLbl=x("tl",act,{txw=true,tfx=E.lx,tfy=E.ly,txs=14,ft=F(R..A.i,E.r,E.n),tc=C.w,bt=1,sz=U(0,60,0,28),tx="Auto"})local rp=x("fr",row,{bs=0,bc=C.g1,bt=0,sz=U(0,360,0,160),ps=U(0.5,-180,0.5,-80),v=false,zi=70})x("uc",rp,{cr=D(0.16,0)})x("us",rp,{ar=E.a,th=2,Color=C.st})local rttl=x("tl",rp,{txw=true,tfx=E.lx,tfy=E.ly,txs=20,ft=F(R..A.i,E.s,E.n),tc=C.w,bt=1,sz=U(1,-24,0,28),ps=U(0,12,0,12),tx="Rename Script"})local rb=Instance.new("TextBox")rb.Parent=rp rb.BorderSizePixel=0 rb.BackgroundColor3=C.g2 rb.TextColor3=C.w rb.TextSize=16 rb.FontFace=F(R..A.i,E.r,E.n)rb.Size=U(1,-24,0,40)rb.Position=U(0,12,0,52)rb.Text=name rb.TextXAlignment=Enum.TextXAlignment.Left rb.TextYAlignment=Enum.TextYAlignment.Center x("uc",rb,{cr=D(0.14,0)})x("us",rb,{ar=E.a,th=1,Color=C.st})local ra=x("fr",rp,{bs=0,bc=C.w,bt=1,sz=U(1,-24,0,40),ps=U(0,12,1,-52)})local ral=Instance.new("UIListLayout")ral.Parent=ra ral.FillDirection=Enum.FillDirection.Horizontal ral.HorizontalAlignment=Enum.HorizontalAlignment.Right ral.VerticalAlignment=Enum.VerticalAlignment.Center ral.Padding=D(0,12)local rOk=x("tb",ra,{txw=true,bs=0,txs=14,tc=C.w,txsc=true,bc=C.a1,ft=F(A.j,E.b,E.n),sz=U(0,90,0,36),bt=0,bd=C.k,tx="Save"})x("uc",rOk,{cr=D(0.2,0)})x("us",rOk,{ar=E.a,th=1,Color=C.st})local rCx=x("tb",ra,{txw=true,bs=0,txs=14,tc=C.w,txsc=true,bc=C.g2,ft=F(A.j,E.b,E.n),sz=U(0,90,0,36),bt=0,bd=C.k,tx="Cancel"})x("uc",rCx,{cr=D(0.2,0)})x("us",rCx,{ar=E.a,th=1,Color=C.st})rOk.ZIndex=rp.ZIndex+1 rCx.ZIndex=rp.ZIndex+1;y(bRun,function()local ok,err=pcall(function()return execName(name,isAuto)end)if ok and err then showToast("Script executed: "..name,pg)else showToast("Failed to execute: "..name,pg)end end)y(autoBtn,function()pcall(function()local newAuto=not isAuto if newAuto then mv(DIR.."/"..name..".lua",AUTODIR.."/"..name..".lua")else mv(AUTODIR.."/"..name..".lua",DIR.."/"..name..".lua")end;isAuto=newAuto autoCb.BackgroundColor3=isAuto and C.a1 or C.g2 autoCheck.Text=isAuto and "✓" or ""autoInd.BackgroundColor3=isAuto and C.a1 or C.w lb.Text=name..(isAuto and " (Auto)" or "")showToast("Auto Run: "..(isAuto and "ON" or "OFF"),pg)if isAuto then execName(name,true)end end)end)y(bDel,function()pcall(function()del(DIR.."/"..name..".lua")del(AUTODIR.."/"..name..".lua")currentRows[name..tostring(isAuto)]=nil if row and row.Parent then row:Destroy()end showToast("Script deleted: "..name,pg)end)end)y(bRn,function()pcall(function()rp[M.v]=true rb.Text=name end)end)y(rCx,function()pcall(function()rp[M.v]=false end)end)y(rOk,function()pcall(function()local nn=(rb.Text or ""):gsub("[%c%p%s]","")if nn==""then return end;if nn==name then rp[M.v]=false return end;local op=isAuto and(AUTODIR.."/"..name..".lua")or(DIR.."/"..name..".lua")local np=isAuto and(AUTODIR.."/"..nn..".lua")or(DIR.."/"..nn..".lua")if isfile(DIR.."/"..nn..".lua")or isfile(AUTODIR.."/"..nn..".lua")then showToast("Name already exists",pg)return end;if mv(op,np)then currentRows[name..tostring(isAuto)]=nil currentRows[nn..tostring(isAuto)]=row lb[M.tx]=nn..(isAuto and " (Auto)" or "")name=nn rp[M.v]=false showToast("Script renamed to: "..nn,pg)else showToast("Failed to rename script",pg)end end)end)return row,name,isAuto end;local function updateList()pcall(function()scan()local q=(sInp.Text or ""):lower()local newItems={}for _,item in ipairs(items)do if q=="" or item.name:lower():find(q,1,true)then newItems[item.name..tostring(item.auto)]=item end end;for key,row in pairs(currentRows)do if not newItems[key] then if row and row.Parent then row:Destroy()end currentRows[key]=nil end end;for key,item in pairs(newItems)do if not currentRows[key] then local row,name,isAuto=mkRow(item)currentRows[key]=row end end;for _,item in ipairs(items)do if item.auto then execName(item.name,true)end end end)end;if sInp then sInp:GetPropertyChangedSignal("Text"):Connect(updateList)end updateList()task.spawn(function()while pg and pg.Parent do task.wait(2)updateList()end end)end)end)end)
