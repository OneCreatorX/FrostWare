task.spawn(function()pcall(function()while not game:IsLoaded() do task.wait() end;local Http=game:GetService("HttpService");local TS=game:GetService("TeleportService");local P=game:GetService("Players");local LP=P.LocalPlayer;addTab("Home","https://img.icons8.com/ios-filled/256/ffffff/home.png",function(pg)local sc=x("sf",pg,{bs=0,bc=C.w,bt=1,sz=u(1,0,1,0),ps=u(0,0,0,0),AutomaticCanvasSize=Enum.AutomaticSize.Y,ScrollingDirection=Enum.ScrollingDirection.Y,ScrollBarImageTransparency=0.4});sc.Active=true;sc.ScrollBarThickness=6;local pad=Instance.new("UIPadding");pad.PaddingLeft=D(0,16);pad.PaddingRight=D(0,16);pad.PaddingTop=D(0,16);pad.PaddingBottom=D(0,16);pad.Parent=sc;local lay=Instance.new("UIListLayout");lay.Parent=sc;lay.FillDirection=Enum.FillDirection.Vertical;lay.HorizontalAlignment=Enum.HorizontalAlignment.Left;lay.SortOrder=Enum.SortOrder.LayoutOrder;lay.Padding=D(0,12);local title=x("tl",sc,{txw=true,tfx=E.lx,tfy=E.ly,txs=22,ft=F(R..A.i,E.b,E.n),tc=C.w,bt=1,sz=u(1,0,0,36),ps=u(0,0,0,0),tx="Servers"});local ctl=x("fr",sc,{bs=0,bc=C.w,bt=0,sz=u(1,0,0,44),ps=u(0,0,0,0)});x("uc",ctl,{cr=D(0.18,0)});local sortBtn=x("tb",ctl,{txw=true,bs=0,txs=14,tc=C.k,txsc=true,bc=C.w,ft=F(A.j,E.b,E.n),sz=u(0.28,0,1,0),bt=1,bd=C.k,tx="Sort: Most"});local filterBtn=x("tb",ctl,{txw=true,bs=0,txs=14,tc=C.k,txsc=true,bc=C.w,ft=F(A.j,E.b,E.n),sz=u(0.36,0,1,0),bt=1,bd=C.k,tx="Filter: Any"});local searchBox=x("tb",ctl,{txw=true,bs=0,txs=14,tc=C.k,txsc=true,bc=C.w,ft=F(A.j,E.b,E.n),sz=u(0.34,0,1,0),bt=1,bd=C.k,tx=""});x("uc",sortBtn,{cr=D(0.12,0)});x("uc",filterBtn,{cr=D(0.12,0)});x("uc",searchBox,{cr=D(0.12,0)});local listArea=x("fr",sc,{bs=0,bc=C.w,bt=0,sz=u(1,0,0,240),ps=u(0,6,0,6)});x("uc",listArea,{cr=D(0.12,0)});local inner=x("sf",listArea,{bs=0,bc=C.w,bt=0,sz=u(1,0,1,0),ps=u(0,6,0,6),AutomaticCanvasSize=Enum.AutomaticSize.Y,ScrollingDirection=Enum.ScrollingDirection.Y});inner.Active=true;inner.ScrollBarThickness=6;local innerLayout=Instance.new("UIListLayout");innerLayout.Parent=inner;innerLayout.FillDirection=Enum.FillDirection.Vertical;innerLayout.SortOrder=Enum.SortOrder.LayoutOrder;innerLayout.Padding=D(0,8);local status=x("tl",sc,{txw=true,tfx=E.lx,tfy=E.ly,txs=16,ft=F(R..A.i,E.r,E.n),tc=C.w,bt=1,sz=u(1,0,0,20),ps=u(0,0,0,0),tx="Fetching servers..."});local servers={};local sortMode="most";local filterMode="any";local function clearChildren(c)for i,v in ipairs(c:GetChildren())do if not v:IsA("UIListLayout") and not v:IsA("UIPadding") then v:Destroy() end end end;local function teleportTo(s)pcall(function()TS:TeleportToPlaceInstance(game.PlaceId,s.id,LP)end)end;local function makeRow(s)local fr=x("fr",inner,{bs=0,bc=C.w,bt=0,sz=u(1,0,0,56),ps=u(0,6,0,6)});x("uc",fr,{cr=D(0.12,0)});local name=x("tl",fr,{txw=true,tfx=E.lx,tfy=E.ly,txs=18,ft=F(R..A.i,E.s,E.n),tc=C.t1,bt=1,sz=u(0.58,0,1,0),ps=u(0,8,0,8),tx=tostring(s.name or ("Server "..tostring(s.id)))});local stats=x("tl",fr,{txw=true,tfx=E.lx,tfy=E.ly,txs=12,ft=F(R..A.i,E.s,E.n),tc=C.t2,bt=1,sz=u(0.32,0,1,0),ps=u(0,8,0,8),tx=tostring((s.playing or 0).."/"..(s.maxPlayers or 0) .. (s.ping and (" â€¢ "..math.floor(s.ping).."ms") or ""))});local btn=x("tb",fr,{txw=true,bs=0,txs=14,tc=C.k,txsc=true,bc=C.w,ft=F(A.j,E.b,E.n),sz=u(0.18,0,1,0),bt=1,bd=C.k,tx="Join"});x("uc",btn,{cr=D(0.12,0)});btn.MouseButton1Click:Connect(function()teleportTo(s)end);return fr end;local function fetchServers(cursor)local ok,res=pcall(function()local url="https://games.roblox.com/v1/games/"..tostring(game.PlaceId).."/servers/Public?sortOrder=Desc&limit=100";if cursor and cursor~="" then url=url.."&cursor="..tostring(cursor) end;local r=request({Url=url,Method="GET",Headers={['User-Agent']='Roblox'}});return Http:JSONDecode(r.Body)end);if not ok or not res then status[M.tx]="Failed to fetch servers";return end;for _,d in ipairs(res.data or {})do table.insert(servers,{id=d.id,playing=d.playing,maxPlayers=d.maxPlayers,name=d.id,ping=nil}) end;if res.nextPageCursor then fetchServers(res.nextPageCursor) end end;local function pingServer(s)local ok,ret=pcall(function()local url="https://api.roblox.com/metrics/servers/"..tostring(s.id);local r=request({Url=url,Method="GET",Headers={['User-Agent']='Roblox'}});return tonumber(r and r.Body and Http:JSONDecode(r.Body).latency) end);if ok and ret then s.ping=ret else s.ping=nil end end;local function filterAndSort()local list={};for _,s in ipairs(servers)do if searchBox and tostring(searchBox[M.tx])~="" and not string.find(string.lower(tostring(s.name)),string.lower(tostring(searchBox[M.tx]))) then elseif filterMode=="any" then table.insert(list,s) elseif filterMode=="hasspace" then if (s.playing or 0)<(s.maxPlayers or 0) then table.insert(list,s) end elseif filterMode=="notfull" then if (s.playing or 0)<(s.maxPlayers or 0) and (s.playing or 0)>0 then table.insert(list,s) end elseif filterMode=="mid" then if (s.playing or 0)>0 and (s.playing or 0)<(s.maxPlayers or 0) then table.insert(list,s) end end end;if sortMode=="most" then table.sort(list,function(a,b)return (a.playing or 0)>(b.playing or 0) end) else table.sort(list,function(a,b)return (a.playing or 0)<(b.playing or 0) end) end;return list end;local function refreshUI()clearChildren(inner);local list=filterAndSort();if #list==0 then status[M.tx]="No servers found";return end;for i,s in ipairs(list)do if not s.ping then pcall(function()pingServer(s)end) end;makeRow(s) end;status[M.tx]="Showing "..tostring(#list).." servers" end;sortBtn.MouseButton1Click:Connect(function()if sortMode=="most" then sortMode="least";sortBtn[M.tx]="Sort: Least"else sortMode="most";sortBtn[M.tx]="Sort: Most"end;refreshUI()end);filterBtn.MouseButton1Click:Connect(function()if filterMode=="any" then filterMode="hasspace";filterBtn[M.tx]="Filter: Has Space"elseif filterMode=="hasspace" then filterMode="notfull";filterBtn[M.tx]="Filter: Not Full"elseif filterMode=="notfull" then filterMode="mid";filterBtn[M.tx]="Filter: Mid"else filterMode="any";filterBtn[M.tx]="Filter: Any"end;refreshUI()end);searchBox.FocusLost:Connect(function(enter)refreshUI()end);task.spawn(function()pcall(function()fetchServers()end)end);task.spawn(function()while task.wait(6) do pcall(function()refreshUI()end) end end)end)end)end)

